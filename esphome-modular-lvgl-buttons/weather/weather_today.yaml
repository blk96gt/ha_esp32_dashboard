---
# Weather for today from Home Assistant Accuweather plugin

text_sensor:
  # - platform: homeassistant
  #   entity_id: weather.forecast_home
  #   id: weather_condition
  #   on_value:
  #       then:  !include { file: weather_icons_update.yaml, vars: { size: "${size}", id: weather_condition_icon, input_id: weather_condition  } }

  - platform: homeassistant
    entity_id: weather.home_sensor
    attribute: temperature
    id: temperature
    on_value:
        then:
          # Update weather_condition
          - lvgl.label.update:
              id: weather_temperature_today
              text:
                format: "%sÂ°"
                args: [ 'id(temperature).state.c_str()' ]

  - platform: homeassistant
    entity_id: weather.home_sensor
    attribute: humidity
    id: humidity
    on_value:
        then:
          # Update weather_condition
          - lvgl.label.update:
              id: weather_humidity_today
              text:
                format: "%s%%"
                args: [ 'id(humidity).state.c_str()' ]

  # - platform: homeassistant
  #   entity_id: weather.forecast_home
  #   id: condition_today
  #   on_value:
  #       then:
  #         # Update weather_condition
  #         - lvgl.label.update:
  #             id: weather_condition_today
  #             text:
  #               format: "%s"
  #               args: [ 'id(condition_today).state.c_str()' ]